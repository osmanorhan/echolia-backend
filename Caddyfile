# Caddyfile for Echolia Backend
# Provides automatic HTTPS with Let's Encrypt

# Local development
:80 {
    reverse_proxy api:8000
}

# Production configuration (uncomment and configure for production)
# api.echolia.app {
#     reverse_proxy api:8000
#
#     # Rate limiting (requires caddy-ratelimit plugin)
#     # rate_limit {
#     #     zone echolia {
#     #         key {remote_host}
#     #         events 100
#     #         window 1m
#     #     }
#     # }
#
#     # Security headers
#     header {
#         Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
#         X-Content-Type-Options "nosniff"
#         X-Frame-Options "DENY"
#         Referrer-Policy "strict-origin-when-cross-origin"
#     }
# }
